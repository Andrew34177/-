def main():
    while True:
        print("\nДобро пожаловать в приключенческую игру!")
        print("\nТы оказался в тёмном лесу. Что будешь делать?")
        choice = input("1. Пойти на север\n2. Пойти на юг\n3. Оставаться на месте\n")

        if choice == "1":
            print("\nТы идёшь на север и встречаешь старого мудрого волка.")
            print("Волк: Привет, путник. Ты ищешь путь домой или приключения?")
            choice_north = input("1. Попросить помощи\n2. Игнорировать волка\n")
            if choice_north == "1":
                print("Волк даёт тебе волшебный амулет, который поможет в дальнейшем путешествии. Ты выигрываешь!")
                end_choice = input(" |ИГРА ОКОНЧЕНА|\n1. Попробовать снова\n2. Выйти\n")
                if end_choice == "2":
                    print("До свидания!")
                    break
                elif end_choice != "1":
                    print("Ну-ну, игра для тебя окончена")
                    break
            else:
                print("Волк разозлился и прогнал тебя из леса. Ты потерялся!")
                end_choice = input(" |ИГРА ОКОНЧЕНА|\n1. Попробовать снова\n2. Выйти\n")
                if end_choice == "2":
                    print("До свидания!")
                    break
                elif end_choice != "1":
                    print("Ну-ну, игра для тебя окончена")
                    break

        elif choice == "2":
            print("\nТы идёшь на юг и находишь глубокий обрыв.")
            print("Ты можешь попытаться перепрыгнуть через него или вернуться обратно.")
            choice_south = input("1. Попытаться перепрыгнуть\n2. Вернуться назад\n")
            if choice_south == "1":
                print("Ты не успеваешь перепрыгнуть и падаешь. Увы, игра окончена.")
                end_choice = input(" |ИГРА ОКОНЧЕНА|\n1. Попробовать снова\n2. Выйти\n")
                if end_choice == "2":
                    print("До свидания!")
                    break
                elif end_choice != "1":
                    print("Ну-ну, игра для тебя окончена")
                    break
            else:
                print("Ты возвращаешься назад и находишь безопасную тропинку. Продолжаем приключение!")
                end_choice = input(" |ИГРА ОКОНЧЕНА|\n1. Попробовать снова\n2. Выйти\n")
                if end_choice == "2":
                    print("До свидания!")
                    break
                elif end_choice != "1":
                    print("Ну-ну, игра для тебя окончена")
                    break

        elif choice == "3":
            print("\nТы решаешь остаться на месте.")
            print("Вдруг появляется магический свет и переносит тебя домой. Ты выжил!")
            end_choice = input(" |ИГРА ОКОНЧЕНА|\n1. Попробовать снова\n2. Выйти\n")
            if end_choice == "2":
                print("До свидания!")
                break
            elif end_choice != "1":
                print("Ну-ну, игра для тебя окончена")
                break

        else:
            print("Неверный выбор! Пожалуйста, выбери 1, 2 или 3.")

if __name__ == "__main__":
    main()
